# FEP

FEP stands for "Far East Project." This repository contains a simple text-based
life simulation game set in a far-future Seoul and beyond. All in-game text is in Korean.

## Running the Game

```bash
python game.py
```

## Requirements

The game mainly relies on Python's standard library. For convenience a
`requirements.txt` file lists a couple of JSON helper libraries so that tools
like `pip install -r requirements.txt` can automatically grab them. Installing
these packages is optional but can speed up JSON handling.


During the game you will be prompted in Korean to choose among four main categories:

1. **이동** – 장소나 국가를 바꿉니다.
2. **NPC 선택** – 같은 장소에 있는 인물과 상호작용합니다.
3. **행동** – 일하기, 식사, 잠자기, 탐험 등의 활동을 수행합니다.
4. **메뉴** – 스탯과 소지품, 설계도 확인, 저장과 불러오기, 게임 종료 등을 선택합니다.
   직업소개소에서라면 **행동** 메뉴에 **직업 찾기** 옵션이 추가로 나타납니다.
이동 메뉴에서는 현재 위치에 따라 몇 가지 선택지가 주어집니다.
일반적으로는 같은 구역 내의 장소로 **도보 이동**할 수 있고, `station:true`로
표시된 장소에서는 **정거장 이동**을 통해 다른 구역으로 갈 수 있습니다.
`international:true`인 정거장(예: 공항, 각 국가의 수도)에 있을 경우
**국가 이동**도 가능합니다. 이때는 인벤토리에 `탑승권`이 있거나 해당 자격
플래그가 필요합니다. 제트팩이 달린 엑소 슈트를 장비했다면 정거장을 거치지
않고 **제트팩 비행**으로 같은 국가의 다른 지역을 곧바로 이동할 수 있습니다.

이 세계에는 네 개의 주요 국가가 존재합니다: **인류연합국**, **거합**, **탐랑**, 그리고 **전계국**입니다. 거합은 인간이 동식물에게 가한 실험으로 지능을 얻은 존재들이 모여 만든 나라이고, 탐랑은 개성을 중시해 오프라인으로 방랑하는 기계들의 느슨한 모임입니다. 전계국은 이들을 고장난 집단으로 여기며 모든 기계를 하나로 묶으려 합니다.

각 국가는 고유한 화폐 단위를 사용합니다. 인류연합국의 **연화**, 거합의 **거합권**, 탐랑의 **탐랑칩**, 전계국의 **전계 데이터**가 그것입니다. 전계국은 특히 실물 화폐보다 데이터를 통한 거래를 선호하며 다른 국가의 화폐를 받으면 수수료가 붙습니다.

장거리 이동 시에도 각 나라가 선호하는 교통수단이 다릅니다. 인류연합국은 자동운행 차량이나 드론, 열차를 이용하고, 거합은 거대한 동물이나 식물 위에 올라타 이동합니다. 탐랑은 각자 제작한 탈것을 사용하며, 전계국은 고열·고압 제트 수송선을 운용합니다. 이런 운송수단을 타려면 `정거장`으로 표시된 장소에 있어야 하며, 국가 간 이동은 주로 이러한 비행 수단을 통해 이루어집니다. 가까운 지역 간 이동은 기본적으로 도보로 진행됩니다.

모든 메뉴에는 **0. 뒤로 가기**가 표시되며, 숫자를 잘못 입력하면 "잘못된 선택입니다." 메시지가 나온 뒤 다시 선택을 할 수 있습니다. 메뉴에서 게임을 저장하거나 불러와 진행 상황을 이어갈 수 있습니다. 기본 저장 파일 이름은 `save.json`입니다.

### Player Stats

Characters have seven core attributes:

- **Strength**
- **Perception**
- **Endurance** – affects maximum health and 기력 as well as recovery rates
- **Charisma**
- **Intelligence**
- **Agility** – higher agility lets your turn gauge fill faster in battle
- **Intuition** – warns you of looming danger before it strikes

A value around 10 is typical for an average human. Scores above 20 are
considered exceptional. Unless the player installs a brain-interface
modification, these numbers are not shown directly; the menu instead
displays rough descriptions such as "평범한 근력" or "뛰어난 지각".

These values influence activities like working and exploring. From these base attributes the game derives secondary stats used in daily life:

- **포만감** – how full you are, decreases with time and activities
- **기력** – stamina for actions, mainly restored by sleeping
- **청결도** – gets lower over time or when exploring, restored by washing
- **만족감** – decreases when you neglect leisure, restored through hobbies

시간이 4시간씩 한 칸 흐를 때마다 포만감이 2, 기력이 1, 청결도가 1, 만족감이 1씩 자동으로 감소하며
이 수치가 바닥나면 체력이 깎이기 시작합니다. 모든 행동은 시간을 소모하므로
장기간 활동하면 자연히 배고픔과 피로가 쌓입니다. `식사`와 `씻기`, `잠자기`, `미디어 시청`, `운동` 등을 통해
포만감과 청결도, 기력, 만족감을 회복할 수 있습니다. 이러한 수치들의 최대치와 회복량은 잠자기는 침대가 있는 거주지나 병원 등에서만 가능하며, 씻기는 세면 시설이 있는 장소에서만 할 수 있습니다. 물이 끊긴 허름한 오두막 등에서는 씻지 못합니다.
주요 능력치(특히 인내심과 매력)에 따라 결정됩니다.
청결도가 너무 낮아지면 캐릭터에게 "냄새" 플래그가 붙어 매력이 2만큼 감소하고,
NPC와의 호감도 상승 속도와 거래 조건에 불이익을 받게 됩니다. 씻으면 다시
원래의 매력으로 돌아옵니다.

The maximum values and recovery rates of these secondary stats scale with the primary attributes such as Endurance or Charisma.

### NPC Interactions

게임에는 개성 있는 여러 캐릭터가 존재합니다. 각 캐릭터는 호감도를
가지고 있으며 시간대에 따라 다른 장소에서 생활합니다. 플레이어는
동일한 장소에 있을 때 대화하거나 거래하고, 필요하면 돈을 빌리거나
전투를 벌일 수 있습니다.
상인 NPC는 보통 키오스크를 통해 거래하지만, 낙후된 지역에서는
직접 대화로 현금이나 물건을 주고받는 방식의 거래가 이루어집니다.
이때 구입 가능한 품목과 가격은 `characters.json`의 `shop` 항목으로
관리됩니다.
각 NPC는 간단한 인벤토리를 갖고 있어 소매치기의 대상이 되기도 합니다.

### 유명세 시스템

의뢰를 성공적으로 수행하거나 전투에서 이기면 "유명세"가 올라갑니다. 반대로
감옥에 갇히거나 의뢰에 실패하면 유명세가 감소합니다. 유명세가 50을 넘으면
처음 만나는 NPC들도 플레이어를 알아보고 특별한 인사말을 건넵니다.

### 캐릭터 정의

플레이어와 NPC에 대한 능력치와 스케줄, 성격 정보는 `data/characters.json`
파일에 기록되어 있으며 로딩 시 `characters.py`가 이를 읽어 들입니다.
JSON 형식이라 새로운 NPC를 손쉽게 추가하거나 수정할 수 있습니다.
모든 데이터 파일은 맨 앞에 `_comment` 필드로 구조 예시가 들어 있어
처음 보는 사람도 어떤 항목을 채워야 하는지 쉽게 알 수 있습니다.
NPC의 체력과 공격력은 `stats` 항목에 정의된 능력치를 기반으로 계산되며,
소지한 무기와 장비에 따라 전투력이 달라집니다.
전투 메시지나 상황별 대사 등 짧은 문구는 `data/messages.json`에 분류되어
있어 쉽게 추가하거나 수정할 수 있습니다. "critical_hit"처럼 카테고리별로
배열을 두어 랜덤한 문구를 불러 쓸 수 있습니다. 기본 인사말, 도시 분위기,
시간대 묘사 등도 각각 세 문장 이상씩 준비돼 있으므로 코드를 수정하지 않고도
다채로운 표현을 추가할 수 있습니다. 호감도가 낮은 NPC에게는
`greeting_bad_mood` 문구가 사용되어 불친절하게 응답하며,
"전계국" 소속 NPC는 항상 동일한 기계식 인사(`greeting_robotic`)를 전합니다.
플레이어가 전계국에 대한 호감도가 20 미만이면 해당 국가의 시스템을 이용할 수 없고,
10 미만이면 전계국 경비가 즉시 적대적으로 반응합니다.
전계국 출신 상인과 거래하면 호감도가 조금 오르며, 전계국의 의뢰를 수행하거나
이익이 되는 행동을 하면 추가 상승합니다. 특히 탐랑 소속 기계 생명체를 포획해
전계국에 넘기면 호감도가 크게 올라 전계국 내에서 신뢰를 얻을 수 있습니다.

각 NPC는 성격(Big Five OCEAN 지표), 나이, 성별, 직업, 지위, 출신 국가 등 다
양한 속성을 지니며, 인사말 역시 이러한 정보를 조합해 생성됩니다. 
`data/dialogues.json`에는 성별, 나이대, 직업, 출신 국가, 지위별 문구는 물론
Big Five 다섯 항목의 높고 낮음을 조합한 32가지 성격 유형별 대사가 준비돼
있습니다. `dialogues.py`가 이를 읽어 NPC 특성에 맞는 인사말을 만들어 줍니다.

### 장소

모든 장소와 국가 정보는 `data/locations.json`에 정의되어 있으며
`locations.py`에서 읽어 들여 객체로 변환합니다. 게임을 시작하면 "시스템 초기화" 메시지와 함께
기억을 잃은 주인공이 하수도에서 깨어납니다. 곧 사회복지사 **은하**가 주인공을 발견해 신체를 스캔하고
이름과 성별, 능력치를 결정하도록 돕습니다. 은하의 안내로 노숙자를 위한 **쉘터**에서 하루를 시작하고,
이후 도시를 탐험하거나 직업소개소에서 일을 찾을 수 있습니다. 같은 구역 내의
다른 장소를 도보로 이동하거나 정거장을 이용해 다른 구역으로 갈 수 있습니다.
각 장소는 `zone` 값을 가지고 있어 같은 구역에 속한 장소들끼리 자유롭게 왕래할 수 있으며,
구역 간 이동은 정거장의 `connections` 설정을 따릅니다.

일부 장소는 처음에는 보이지 않으며, 같은 장소에서 `탐험`을 수행하고
충분한 지각 능력을 갖추었을 때만 발견됩니다. 숨겨진 경로를 찾으면
해당 장소가 이동 목록에 추가됩니다.

`locations.json`의 각 장소는 필요에 따라 `station` 값을 가질 수 있습니다.
정거장에서는 다른 구역으로 이동할 수 있고, `international: true`가
설정된 정거장(예: 공항, 각 국가의 수도)에서만 다른 나라로 이동할 수
있습니다. 국가 이동 시에는 `탑승권` 아이템이나 해당 자격 플래그가 필요합니다.

모든 행동을 수행하면 시간이 4시간씩 경과하며, 시간이 흐를 때마다 포만감과
기력, 청결도가 조금씩 감소합니다.
하루가 지나면 플레이어의 나이도 하루씩 증가하며 365일이 지나면 한 살을
먹습니다. 오랜 수감 생활 역시 이렇게 나이를 늘립니다.

각 장소는 시간대에 따라 분위기가 달라지며, 특정 시간에만 출입이 가능할
수 있습니다. 게임의 하루는 24시간제를 4시간 단위로 나눈 여섯 구간
(새벽, 아침, 오전, 오후, 저녁, 밤)으로 표현됩니다. 예를 들어 중앙 시장은
아침부터 저녁까지만 열리고, 비밀 실험실은 밤에만 들어갈 수 있습니다.
`gui.py`는 현재 시간에 맞는 장소 묘사를 보여 줍니다.

한 달은 30일 기준으로 12달이 순환하며 봄·여름·가을·겨울 네 계절이
차례로 이어집니다. 하루가 끝날 때마다 계절에 어울리는 날씨가 무작위로
정해져 화면 상단에 표시되고, 야외 장소의 묘사도 계절과 날씨에 따라
조금씩 변화합니다.

### 일주일과 직업

게임은 요일 개념을 지니며 월요일부터 일요일까지 순환합니다. 대부분의
직장은 월·화, 목·금 네 차례 근무하고 수요일과 주말에는 쉬는 구조가
보편적입니다. 따라서 휴일에는 **일하기**를 선택해도 출근할 수 없습니다.

직업소개소에서는 단순 노동 외에도 여러 교육 과정을 제공합니다. 군사 요원,
토지 개관자, 로봇 관리자처럼 정부에 귀속된 과정은 교육 기간 동안 지정된
숙소에서 정해진 생활 패턴을 따라야 하며, 상대적으로 자유가 제한됩니다.
도시 계획자, 창작자, 사회복지사, 탐정, 경비 등 일반 과정은 비교적 자유롭게
수강할 수 있습니다. 교육을 신청하기 전에 간단한 **적성 검사**를 받아
현재 능력치에 어울리는 직업 추천을 받을 수 있습니다. 모든 과정은 누구나
수강할 수 있지만, 과정을 끝낸 뒤 열리는 시험에 합격해야만 해당 직업
**자격증**을 얻을 수 있습니다. 각 직업마다 요구하는 능력치가 다르며
시험에 실패하면 일정 기간 후 다시 도전해야 합니다. 예를 들어 도시 계획자
자격증은 인류연합국에서만 통용되지만 탐정 자격증은 범국가적으로 효력이
있습니다. 직업소개소를 나설 때 드물게 수상한 모집원이 접근해 "용병"이
되어 보지 않겠느냐고 제안하기도 합니다. 거절해도 연락처를 남기므로
나중에 다시 연락해 위험한 시험 임무를 받을 수 있습니다. 전투에서
승리하면 용병단에서 간곡히 입단을 요청하며, 도망치는 데 성공해도
정식 스카웃 제의가 들어옵니다.

직업을 얻으면 정부에서 초기 정착 자금을 빌려 주어 **임대 아파트**에서 생활하게
됩니다. 매달 월세와 대출 상환금이 청구되며, 샤워 횟수에 따른 수도세와 가전제품
사용량에 따른 전기세, 여름·겨울철 냉난방비도 함께 부과됩니다. 월급을 받을 때는
세금이 먼저 공제되므로 자금 관리를 잘 해야 합니다.
직업에 따라 급여 방식이 다른데, 일부는 **시급**으로 매번 일할 때마다 즉시 돈을
받으며, 다른 전문 직업들은 **월급제**라 한 달이 끝날 때 은행 계좌로 급여가
입금됩니다. 은행은 상업 지구의 "은행" 건물에서 이용할 수 있고, 입금하거나
출금할 수 있습니다. 예금에는 매달 소액의 **이자**가 붙으므로 여유 자금을
서울 기준 최저 시급은 10연화 정도이며 일반적인 단순 노동은 이를 기준으로 지급된다.
도심 지역의 물가는 1.2배 정도로 비싸지만 시설 수준이 높다.
빈민가는 물가가 0.7배로 저렴하나 상품 품질이 떨어진다.
장소 데이터의 cost_mult 값이 높을수록 생활비가 비싸지며, 낮을수록 저렴합니다.
주거 지구 근처의 **주택 관리국**에서는 정부가 분양하거나 임대하는 집을
선택할 수 있습니다. 하수도 지역의 **빈민 주택 시장**에서는 주민끼리 저렴한
가격에 허름한 집을 사고팔기도 합니다. 집을 구입하거나 임대하면 그 장소가
플레이어의 새 거주지가 되며, 구매한 집은 월세가 들지 않습니다. 원하면
집을 다시 팔아 쉘터로 돌아갈 수도 있습니다.
만약 월세와 생활비를 3개월 이상 내지 못하면 정부가 몰래 로봇을 보내
플레이어를 납치하려고 합니다. 능력치가 높으면 로봇을 미리 감지해
숨거나 전투로 맞설 수 있지만, 그렇지 못하면 다른 나라로 팔려가거나
추방당해 게임이 종료됩니다. 로봇과의 전투에서 연달아 승리하면
정부 특수부대에 스카우트되는 특별한 전개도 존재합니다.
숨기에 성공하더라도 안심할 수는 없습니다. 도망친 뒤 집으로 돌아오면
집 안에 잠복해 있던 로봇들이 다시 납치를 시도합니다. 지각이 높으면
집 근처에서 수상한 기운을 느끼거나 직감이 높은 경우 어둠 속 그림자나
낯선 향기를 통해 위험을 예감해 도망칠 수 있지만, 무시하고 들어가면
또 한 번 전투가 벌어집니다.

### 병원 시스템

플레이어의 체력이 0 이하가 되면 대개 즉사하지 않는 한 가까운 **시립 병원**으로
실려 갑니다. 병원은 주로 돈이 없는 사람들이 찾는 시설이며, 부유한 주민들은
집에 자동 의료 장비를 갖추고 있기에 방문할 일이 드뭅니다. 병원에 도착하면
기본 치료비가 청구되며, 돈이 부족하면 빚으로 기록됩니다. 치료를 받고 나면
체력과 기력이 일정 부분 회복된 상태로 병원에서 게임을 계속할 수 있습니다.

### 범죄와 감옥

소매치기나 해킹, 자물쇠따기 같은 범죄 행위에 실패하면 체포되어
`감옥`으로 보내질 수 있습니다. 범죄 종류와 국가에 따라 형량이 다르며
몇 달 혹은 몇 년을 보내야 할 수도 있습니다. 감옥에서는 다른 범죄 조직과
인맥이 생길 수도 있습니다. 수감 중에는 하루하루가 자동으로 흘러가며
기본적인 식사와 휴식만 제공됩니다. 형기를 마치면 빈민가로 풀려납니다.
빈민가를 탐험하다 보면 갱단원이 시비를 걸어 전투가 벌어질 가능성이
높으니 주의해야 합니다.
감옥에는 항상 교도소장 박과 안드로이드 경비들이 지키고 있어
새벽 기상, 아침 점호, 오전 작업, 오후 작업, 저녁 휴식, 밤 취침의
루틴이 하루 동안 반복됩니다.

### NPC 사망과 살인 범죄

전투 중 NPC의 체력이 0 이하로 떨어지면 그 NPC는 사망 처리되어 더 이상
게임에 등장하지 않습니다. 다른 NPC들이 보는 앞에서 사람을 죽이면
"살인" 범죄로 간주되어 곧 체포되어 감옥에 보내집니다. 죽인 NPC 이름은
플레이어 상태 창의 "사망시킨 인물" 목록에 기록되며, 저장 후 불러와도
해당 NPC는 되살아나지 않습니다.


### 캐릭터 정의

플레이어와 NPC에 대한 능력치와 스케줄, 성격 정보는 `characters.py`에
정리되어 있습니다. 새 캐릭터를 추가하거나 수정하고 싶다면 이 파일을
편집하면 됩니다.

### 장소

모든 장소 정의는 `locations.py`에 분리되어 있어 간단히 수정하거나
추가할 수 있습니다. 게임을 시작하면 "시스템 초기화" 메시지 후
인류연합국의 지하 거대한 하수도에서 눈을 뜨게 되며, 연결된 장소로
이동하며 탐험할 수 있습니다. `장소 이동` 옵션을 사용하여 현재 위치와
연결된 다른 지역으로 갈 수 있습니다.

일부 장소는 처음에는 보이지 않으며, 같은 장소에서 `탐험`을 수행하고
충분한 지각 능력을 갖추었을 때만 발견됩니다. 숨겨진 경로를 찾으면
해당 장소가 이동 목록에 추가됩니다.

### GUI

`gui.py`는 플레이어의 상태와 현재 위치 정보를 보기 좋게 출력해 주는
간단한 텍스트 인터페이스를 제공합니다. 화면의 상단에는 건강 상태와
기본 스탯이 표시되고, 구분선 아래에는 장소 묘사와 주변 인물 목록,
또 다른 구분선 아래에는 이동 가능한 다른 장소가 나열됩니다.

### 인벤토리

플레이어는 장비에 따라 들 수 있는 물건의 무게가 결정됩니다. 기본 용량은
5이고, 주머니가 달린 옷이나 가방을 장비하면 추가 용량이 늘어납니다.
가방 종류에 따라 추가 용량이 다르며, 여행용 캐리어나 카트를 사용하면
훨씬 많은 물건을 운반할 수 있습니다. 카트의 경우 크기에 따라 건물 내부로
들어갈 수 있는지 여부가 달라집니다(대형 카트는 실내 진입이 어렵습니다).
아이템마다 무게가 정해져 있어 현재 들고 있는 총 무게가 용량을 초과하면
새로운 물건을 넣을 수 없습니다. `행동` 메뉴에서 **소지품 확인**이나
**씻기** 등을 선택해 일상적인 관리도 할 수 있습니다. `장비 장착`을 선택하면
가방이나 옷, 배지 같은 장비를 갈아입어 각종 플래그를 얻거나 잃을 수 있습니다.
잠자기와 씻기는 해당 시설이 있는 장소에서만 가능하므로, 거주지나 병원 등에서 시도해야 합니다.
아이템 정보는 `data/items.json`에 정리되어 있어 무게나 이름을 손쉽게
수정하거나 새로운 아이템을 추가할 수 있습니다. 파일 상단의 `_comment`
항목에 기본 구조가 설명돼 있으니 참고하면 됩니다. 특히 무기류는 `material`
과 `quality` 필드를 통해 재질과 제련 정도를 기록해 두면 게임에서 성능과
내구도 계산에 사용됩니다.
또한 `range` 필드로 근거리(`melee`)와 원거리(`ranged`) 무기를 구분하여
무게가 전투에 미치는 영향을 계산합니다.

지각(**Perception**) 수치가 낮으면 무게와 부피를 정확히 파악하기 어렵기
때문에, 소지품 목록과 상태 창에 표시되는 수치는 오차가 생길 수 있습니다.
지각이 높을수록 이러한 오차 범위가 줄어들어 실제 값과 거의 같게 보입니다.

### 신체 개조와 장비

`equipment.py`에는 가방 같은 장비와 신체 개조 모듈이 정의되어 있습니다.
플레이어는 특정 부위에 사이버네틱 개조를 장착해 능력치를 올릴 수 있으며,
게임 내에서 **신체 개조** 행동을 통해 원하는 모듈을 설치할 수 있습니다.
모드마다 설치를 위한 전용 부품이 존재하므로 인벤토리에 해당 부품을
소지하고 있어야 시술이 가능합니다.
신체 개조는 대체로 전문 상점에서 진행되며, 이런 상점들은 대개 데이터 송수신
으로 의뢰와 결제를 처리합니다. 도시 외곽이나 슬럼가 등 낙후된 지역에서는
불법 시술이 성행하기도 하는데, 이 경우 시술 실패나 가품 부품 사용 위험이
있습니다. 반대로 고급화된 도심의 합법 상점에서는 이런 위험이 거의 없습니다.
눈 개조의 경우 여러 기업이 서로 다른 기능을 제공합니다. 예를 들어
"아이리움"사의 적외선 강화 눈은 투명화된 생물을 감지할 수 있고,
"정밀전자"의 분석용 눈은 정확한 타격 확률을 높여 주지만 고성능
기능을 사용하려면 추가로 뇌 인터페이스 모듈을 장착해야 합니다. 왼쪽과
오른쪽 눈을 각각 다르게 개조하는 것도 가능합니다.
장착된 개조는 상태 창에서 확인할 수 있습니다.
근섬유를 인공 섬유로 교체해 근력과 민첩을 높여 주는 "근섬유 치환" 모듈도
있으며, 입으면 힘과 민첩이 상승하지만 실내 이동이 어려운 **엑소 슈트** 장비도
등장합니다. 일부 모델은 제트팩이 달려 있어 장착하면 이동 메뉴에
"제트팩 비행" 옵션이 생기며 같은 국가의 다른 지역으로 곧바로 이동할 수 있습니다.
엑소 슈트는 전용 작업장에서 파워 업그레이드나 민첩 업그레이드,
제트팩 모듈 등을 추가 장착할 수 있습니다. 이러한 개조를 위해서는
"엑소슈트 작업장"에 들러야 합니다.
팔 부위 개조 중에는 무기를 숨길 수 있는 버전도 있습니다. "은닉 냉병기 팔"은 손목에
짧은 칼날을 숨겨 두었다가 필요할 때 펼쳐 사용할 수 있고, "은닉 원거리 무기 팔"은
손바닥 안에 작은 총구가 있어 뇌 인터페이스와 함께라면 즉각 사격이 가능합니다.
이외에도 날개나 꼬리 같은 특이한 신체 개조를 통해 민첩이나 지각을
향상시킬 수 있으며, 뇌에 추가 메모리를 장착하면 더 많은 지식을 저장할
수 있습니다.
피부를 개조해 추위나 더위를 덜 느끼도록 하거나, 미용 목적의 고급 피부를
이식해 매력을 높일 수도 있습니다.

현대 기술로는 골격과 피부, 두개골, 눈, 중추신경을 제외한 거의 모든 신체
부위를 기계 장기로 교체할 수 있으며, 중추신경계에는 각종 인터페이스를
추가 장착하는 형태의 개조가 이루어집니다. 이렇게 대규모로 개조한 신체를
다시 생체 조직으로 되돌리려면 줄기세포 시술이 필요한데, 그 비용이 워낙
막대해 보통의 시민은 엄두도 내지 못합니다.

뇌 인터페이스 모듈은 **무선형**과 **유선형** 두 종류가 있습니다. 무선형은
주변의 다른 무선 기기를 해킹할 수 있는 대신 전투 중에도 원격 해킹을 당해
피해를 입을 위험이 있습니다. 유선형은 외부 네트워크에 연결되지 않아
무선 해킹은 불가능하지만 해킹 공격에는 면역입니다.

### 사물 프린팅과 설계도

인류연합국 곳곳에는 사물 프린팅 기기가 설치되어 있습니다. 완성된 설계도만
있다면 재료비만 지불하고 언제든지 필요한 물건을 출력할 수 있으므로 많은
아이템을 들고 다닐 필요가 없습니다. 기본 설계도는 상인에게서 구입하거나
퀘스트 보상, 전투 후 남은 잔해를 스캔해서 획득할 수 있습니다. 잔해가 덜
파괴될수록 스캔으로 얻는 설계도 진행도가 높습니다. 진행도가 100%가 되면
그 설계도를 사용해 프린팅할 수 있습니다. 프린팅 가능 여부는 아이템 정의의
`printable` 속성으로 결정되며, 설계도 진행도는 메뉴의 **데이터 확인**에서
볼 수 있습니다. 프린터가 있는 장소에서는 **프린팅** 행동이 추가로 표시됩니다.

### 전투

NPC와 싸우게 되면 전투는 턴제로 진행됩니다. 각 참여자는 "턴 게이지"
가 0이 될 때마다 차례가 돌아옵니다. 민첩(**Agility**) 수치가 높을수록
턴 게이지가 더 빨리 소모되어 보다 자주 행동할 수 있습니다. 매 턴마다
플레이어는 **공격**, **기술**, **도주** 중 하나를 고를 수 있으며 공격 시에는
머리, 몸통, 팔, 다리 중 목표 부위를 지정합니다. 냉병기로 팔이나 다리를
노리면 일정 확률로 절단되어 큰 피해를 주고, 둔기로 머리를 치면 기절을
유발해 적의 행동을 지연시킬 수 있습니다. 상대를 기습하면 플레이어가,
기습을 당하면 적이 먼저 행동하며, 서로 인지한 상태라면 먼저 턴 게이지가
소모된 쪽부터 차례가 돌아옵니다. 전투 로직은 `battle.py`에 구현되어
있습니다.
전투가 끝나면 사용된 턴 수에 비례하여 시간이 흐르며, 민첩이 높을수록
같은 턴 수에도 경과 시간이 줄어듭니다.

### 무기

전투에서 더 큰 피해를 주기 위해 다양한 무기를 장착할 수 있습니다. 둔기,
냉병기, 화기, 레이저 무기 등이 존재하며 각 무기는 고유의 `damage` 값을
지닙니다. 일부 무기는 `concealable` 속성이 있어 신체 개조로 제공되는
**은닉 무기 슬롯**을 설치하면 눈에 띄지 않게 숨길 수도 있습니다. 무기는
`장비 장착` 메뉴에서 선택하여 착용할 수 있으며, 장착 중인 무기는 상태창과
소지품 목록에 표시됩니다.

둔기와 냉병기류는 `material`과 `quality` 값을 사용해 성능이 결정됩니다.
예를 들어 철로 만든 쇠파이프(`quality` 0.8)보다 고급 강철로 만든 망치
(`quality` 1.0)이 더 큰 피해를 주고 내구도가 높습니다. 아이템 정의에
기재된 품질 수치가 높을수록 `damage`가 증가하며 내구도 또한 높아집니다.

무기의 무게도 전투에 영향을 줍니다. 근거리 무기를 사용할수록 무게가
무거우면 턴 게이지가 더 천천히 소모되어 행동 속도가 느려지고 명중률도
떨어집니다. 원거리 무기는 무게가 클수록 명중률만 낮아집니다.

근거리 무기는 사용하는 캐릭터의 **힘**과 **민첩** 수치에 따라 추가 피해가
더해집니다. 민첩이 높을수록 공격을 피할 확률과 치명타 확률이 증가하며,
지각과 지능 역시 치명타 발생률에 영향을 줍니다. 골격이나 피부를 강화하는
신체 개조를 설치하면 방어력이 올라 적의 공격으로 받는 피해가 감소합니다.

### 행동 목록

플레이어가 사용할 수 있는 추가 행동은 `data/actions.json`에 정리되어 있습니다.
기본적인 일하기나 식사 외에도 기다리기, 은신, 소매치기, 자물쇠따기,
해킹, 탐색, **미디어 시청**, **운동** 같은 활동을 선택할 수 있습니다. 각 파일
상단의 `_comment`에 데이터 구조가 요약돼 있으니 손쉽게 편집 가능합니다.
책을 읽거나 영상을 학습하면 간단한 기술을 익힐 수 있으며,
뇌 인터페이스가 있으면 **데이터 다운로드**를 통해 돈을 지불하고
즉시 새로운 지식을 얻을 수도 있습니다. 기억 용량은 지능과
신체 개조에 따라 늘어나며, 한도를 넘기면 더 이상 배울 수 없습니다.
은신 상태에서는 출입 자격이 없는 장소에 잠입할 때 발각 확률이 줄어들며,
소매치기는 NPC가 가진 작은 소형 아이템이나 액세서리를 노려 훔칠 수 있습니다.
자물쇠따기는 비밀 실험실과 같이 고대 유물이 잠든 곳에서 사용됩니다.
소매치기에 실패하면 높은 확률로 들켜 호감도가 크게 감소하고 체포될 수도 있습니다.
잠입에 성공하면 "잠입" 플래그가 표시되며, 이 상태로 행동하거나 이동하면 경비에게 들킬 수 있습니다. 발각되면 밖으로 쫓겨나거나 경비와 전투가 벌어질 수 있습니다. 또한 각 장소는 **보안도**와 **위험도**를 지니며, 보안도가 높을수록 잠입 시 들킬 확률이 증가합니다. 위험도가 낮으면 발각돼도 단순히 쫓겨나지만, 중간이면 보통 경비와, 높으면 강력한 적과 전투가 진행됩니다.

은신이나 잠입 중에는 NPC가 먼저 말을 걸지 않으며, 플레이어가 대화나 거래와 같은 일반 상호작용을 시도하면 상태가 풀리면서 NPC가 놀라는 반응을 보입니다. 소매치기나 해킹 등 은밀한 행동은 이 상태를 유지한 채 수행할 수 있습니다.

NPC가 놀라면 대부분 호감도가 감소하며, 호감도가 80 이상인 친밀한 관계일 때만 약간 상승합니다.

모든 확률 판정은 목표 수치와 주사위 결과가 화면에 표시되어 결과를 쉽게 알 수 있습니다.

### 외부 세계

문명 구역을 벗어난 황야에는 실험으로 괴수화된 동식물과 기계가 서로를
흡수하며 진화한 괴생명체들이 들끓습니다. 이 지역으로 이동하거나 탐험하면
확률적으로 이 괴생명체와 전투가 발생합니다. 전투 난이도는 매우 높기 때문에
대부분의 주민은 가능한 한 외부로 나가기를 꺼립니다.

### 집단과 진급

플레이어는 여러 조직이나 집단에 가입할 수 있습니다. `Player.join_group()`
메서드를 통해 새 집단에 들어가며, `promote_group()`을 사용하면 단계를 올려
더 많은 혜택을 얻습니다. 가입한 집단과 현재 단계는 저장되므로 이후 게임에서
계속 유지됩니다. 집단 정의는 `data/groups.json`에 위치하며, 이름과 각 단계의
칭호가 기록되어 있습니다. 파일의 `_comment` 부분을 보면 예시 형식을 알 수 있습니다.
각 NPC는 `data/characters.json`의 `groups` 필드를
통해 소속 집단과 계급을 지정할 수 있으며, 국가 역시 하나의 집단으로 취급되어
시민 계급이 곧 직위 역할을 합니다.
예를 들어 용병 조직 "라온단"의 계급 구조는 신입 → 단원 → 부대장 → 대장 순으로
구성됩니다.

범죄 관련 조직으로는 다음과 같은 단체들이 존재합니다.

- **다크웹단** – 해킹을 전문으로 하는 비밀 조직
- **골목 갱단** – 빈민가를 중심으로 활동하는 갱단
- **금융사기단** – 은행과 결탁해 대규모 사기를 벌이는 집단
- **장기밀매단** – 불법 장기 적출과 밀매에 관여하는 의료 범죄 조직

각 단체는 고유한 메인 퀘스트 라인을 갖고 있습니다. 플레이어는 처음에는
가장 낮은 단계로 시작하지만, 연속된 퀘스트를 완료하면서 차례로 승진할
수 있습니다. 예를 들어 라온단의 시험 임무를 통과하면 단원으로 인정 받고
마지막 임무에서 적대 세력을 무찔러 대장 자리에 오를 수 있습니다. 다른
범죄 조직들 또한 해킹, 사기, 장기 밀매 등 성격에 맞는 임무를 제공하며
최종 단계에서는 조직을 위기에서 구하거나 막대한 이익을 챙기는 내용이
기다립니다.

### 퀘스트 시스템

진행 중인 할 일은 `Player.quests` 목록에 기록됩니다. 뇌 인터페이스가
무선 네트워크에 연결되어 있을 경우, `show_quests()`를 통해 각 퀘스트의
목표 지점까지 이어지는 경로가 다른 색으로 표시됩니다. 따라서 멀리 떨어진
장소를 찾아가야 할 때도 손쉽게 방향을 파악할 수 있습니다.

NPC와 대화하면 조건을 만족할 때 퀘스트가 제안됩니다. 대부분은 수락 여부를
선택할 수 있지만 일부는 강제로 시작되기도 합니다. 예를 들어 쉘터의 사회복지사
**은하**와 친분이 높아지면 그녀가 의무용 의료 상자를 닥터 홍에게 전해 달라고
부탁합니다. 클리닉에서 홍 박사에게 이를 전달하면 보상으로 뇌 인터페이스 칩을
받고, 곧바로 박사의 연구 실험에 강제로 참여하게 됩니다.
또한 퀘스트는 능력치나 소속 집단, 계급, 이전 전투 기록 등을 조건으로 할 수
있습니다. 범죄 조직과 연을 맺으려면 한 번이라도 소매치기나 잠입, 불법 전투와
같은 범죄 행위를 해야 제안을 받을 수 있습니다. 예시로 갱단원 **칼**에게 말을
걸면 범죄 전력이 있을 때만 "슬럼 갱단 가입" 퀘스트가 주어지며, 수락하면 곧바로
해당 집단에 편입됩니다.

일부 퀘스트는 특정 아이템을 가져오라는 요구를 받기도 합니다. 하지만 그 아이템이
필요한 이유를 알게 되어 직접 문제를 해결할 수 있다면 굳이 아이템을 전달하지 않아도
완료 처리됩니다. 예를 들어 **기술자 철**은 드론을 수리하기 위해 `고성능 배터리`를
구해 달라고 하지만, 플레이어의 지능이 충분하다면 현장에서 드론을 직접 고쳐 주어도
퀘스트를 마칠 수 있습니다.
어떤 퀘스트들은 실패 조건이 존재합니다. 예를 들어 갱단원 **칼**이 의뢰하는
"조용한 귀금속 절도"는 들키지 말아야 성공합니다. 소매치기나 잠입에 실패해
소란을 일으키거나 전투가 벌어지면 "너무 시끄러워서 장물을 처리할 수 없다"며
퀘스트가 즉시 실패합니다.
실패한 퀘스트는 단순히 포기되는 것에 그치지 않습니다. 의뢰인의 호감도가
떨어지거나, 관련 조직에서 직위가 강등될 수도 있습니다. 호감도 변화는 숫자로
표시되지 않고 NPC의 표정이나 행동으로 짐작할 수 있습니다. 예를 들어 인간형
NPC라면 살며시 미소 짓거나 얼굴을 굳히는 모습으로 감정을 드러냅니다. 반면
대부분의 기계 생명체는 외형상 변화를 보이지 않아 호감도 변화를 파악하기 어렵지만,
탐랑 소속 기계 중 일부는 인간처럼 표정을 지어 변화가 보이기도 합니다.
